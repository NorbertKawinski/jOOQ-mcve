DROP SCHEMA IF EXISTS mcve CASCADE;

CREATE SCHEMA mcve;

CREATE TABLE mcve.test (
                           id INT NOT NULL GENERATED ALWAYS AS IDENTITY,
                           cd INT,

                           CONSTRAINT pk_test PRIMARY KEY (id)
);

CREATE DOMAIN mcve.author_id AS uuid;

CREATE TABLE mcve.author
(
--     id uuid PRIMARY KEY,
    id mcve.author_id PRIMARY KEY,
    name varchar(255) NOT NULL,
    born date
);
INSERT INTO mcve.author (id, name, born)
VALUES ('00000000-0000-0000-0000-000000000001', 'AuthorNameHere', '1234-12-24');

CREATE TABLE mcve.book
(
    id uuid PRIMARY KEY,
    title varchar(255) NOT NULL,
--     author_id uuid NOT NULL,
    author_id mcve.author_id NOT NULL,
    CONSTRAINT fk_author FOREIGN KEY (author_id) REFERENCES mcve.author (id)
);
INSERT INTO mcve.book (id, title, author_id)
VALUES ('00000000-0000-0000-0000-000000000002', 'Book1NameHere', '00000000-0000-0000-0000-000000000001');
INSERT INTO mcve.book (id, title, author_id)
VALUES ('00000000-0000-0000-0000-000000000003', 'Book2NameHere', '00000000-0000-0000-0000-000000000001');